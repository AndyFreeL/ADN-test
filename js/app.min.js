(()=>{"use strict";let e=document.querySelector(".icon-menu"),t=document.querySelector("body");if(null!=e){let n=document.querySelector(".menu__body");e.addEventListener("click",(function(l){e.classList.toggle("_active"),n.classList.toggle("_active"),t.classList.toggle("_no-scroll")}))}function n(e){let t,n;for(console.log(e),t=document.getElementsByClassName("portfolio__column"),"all"===e&&(e=""),n=0;n<t.length;n++)o(t[n],"show"),t[n].className.indexOf(e)>-1&&l(t[n],"show")}function l(e,t){let n,l,o;for(l=e.className.split(" "),o=t.split(" "),n=0;n<o.length;n++)-1==l.indexOf(o[n])&&(e.className+=" "+o[n])}function o(e,t){let n,l,o;for(l=e.className.split(" "),o=t.split(" "),n=0;n<o.length;n++)for(;l.indexOf(o[n])>-1;)l.splice(l.indexOf(o[n]),1);e.className=l.join(" ")}let s=document.getElementById("filter__list").getElementsByClassName("filter__item");for(let e=0;e<s.length;e++)s[e].addEventListener("click",(function(){n(this.id);let e=document.getElementsByClassName("active");e[0].className=e[0].className.replace(" active",""),this.className+=" active"}));document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");function t(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function n(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function l(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e.addEventListener("submit",(async function(i){i.preventDefault(),console.log("!!!");let a=function(e){let o=0,s=document.querySelectorAll("._req");for(let e=0;e<s.length;e++){const i=s[e];console.log(e),n(i),i.classList.contains("_email")?l(i)&&(t(i),o++):""===i.value&&t(i)}return o}(),c=new FormData(e);if(c.append("file",o.files[0]),0===a){e.classList.add("_sending");let t=await fetch("https://httpbin.org/post",{method:"POST",body:c});if(t.ok){let n=await t.json();console.log(n),alert(n.data),s.innerHTML="",e.reset(),e.classList.remove("_sending")}else alert("some error"),e.classList.remove("_sending")}else alert("Заполните все поля")}));const o=document.getElementById("formFile"),s=document.getElementById("formPreview");o.addEventListener("change",(()=>{!function(e){if(e.size>10485760)return void alert("Файл должен быть не более 10мб");let t=new FileReader;t.onload=function(e){s.innerHTML="<div>OK</div>"},t.onerror=function(e){alert(e)},t.readAsDataURL(e)}(o.files[0])}))})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.querySelector("body").classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),n("all"),console.log("Адаптив кривой))")})();